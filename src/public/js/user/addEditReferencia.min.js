/*! formularios 2023-06-21 */
const nifref=document.getElementById("nifref"),desref=document.getElementById("desref"),tipref=document.getElementById("cbotip"),getCookie=t=>{let i="";return document.cookie.split(";").forEach(e=>{e.includes(t)&&(i=e.split("=")[1])}),i},setCookie=(e,t,i)=>{let r="";var s;i&&((s=new Date).setTime(s.getTime()+24*i*60*60*1e3),r="; expires="+s.toUTCString()),document.cookie=e+"="+(t||"")+r+"; path=/"},deleteCookie=()=>{document.cookie="filtro=; expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/;"},setSuccess=e=>{var t=e.parentElement;t.querySelector(".invalid-feedback").innerText="",t.classList.add("is-valid"),e.classList.remove("is-invalid")},setError=(e,t)=>{var i=e.parentElement;i.querySelector(".invalid-feedback").innerText=t,e.classList.add("is-invalid"),i.classList.remove("is-valid")},validate=()=>{var t=nifref.value.trim().toUpperCase().slice(0,9),e=tipref.value,i=desref.value.trim();if(""===t)return setError(nifref,"NIF/NIE requerido"),setTimeout(function(){setSuccess(nifref)},3e3),!1;{if(!/^([X-Y][0-9]{7}[A-Z]{1})|([0-9]{8}[A-Z]{1})$/.test(t))return setError(nifref,"Introduzca NIF/NIE válido"),setTimeout(function(){setSuccess(nifref)},3e3),!1;var r=t.slice(0,1),s=t.slice(8);let e=t;isNaN(r)&&(e=t.slice(1),"X"===r?e="0"+e:"Y"===r?e="1"+e:"Z"===r&&(e="2"+e));t=e.slice(0,8),r=parseInt(t)%23;if(!1==(s==="TRWAGMYFPDXBNJZSQVHLCKET".slice(r,1+r)))return setError(nifref,"Introduzca NIF/NIE válido"),setTimeout(function(){setSuccess(nifref)},3e3),!1}return"0"===e?(setError(cbotip,"Seleccione un tipo"),setTimeout(function(){setSuccess(cbotip)},3e3),!1):!(""===i||11<i.length)||(setError(desref,"Referencia requerida (longitud máxima 11 caracteres)"),setTimeout(function(){setSuccess(desref)},3e3),!1)};