/*! formularios 2023-07-09 */
const nifcon=document.getElementById("nifcon"),nomcon=document.getElementById("nomcon"),ejefor=document.getElementById("ejefor"),fecfor=document.getElementById("fecfor"),tipfor=document.getElementById("cbotip"),reffor=document.getElementById("cboref"),getCookie=t=>{let o="";return document.cookie.split(";").forEach(e=>{e.includes(t)&&(o=e.split("=")[1])}),o},setCookie=(e,t,o)=>{let r="";var i;o&&((i=new Date).setTime(i.getTime()+24*o*60*60*1e3),r="; expires="+i.toUTCString()),document.cookie=e+"="+(t||"")+r+"; path=/"},deleteCookie=()=>{document.cookie="filtro=; expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/;"},setSuccess=e=>{var t=e.parentElement;t.querySelector(".invalid-feedback").innerText="",t.classList.add("is-valid"),e.classList.remove("is-invalid")},setError=(e,t)=>{var o=e.parentElement;o.querySelector(".invalid-feedback").innerText=t,e.classList.add("is-invalid"),o.classList.remove("is-valid")},validate=()=>{var t=nifcon.value.trim().toUpperCase().slice(0,9),e=nomcon.value.trim(),o=ejefor.value.trim(),r=fecfor.value.trim(),i=tipfor.value,c=reffor.value;if(""===t)return setError(nifcon,"NIF/NIE requerido"),setTimeout(function(){setSuccess(nifcon)},3e3),!1;{if(!/^([X-Y][0-9]{7}[A-Z]{1})|([0-9]{8}[A-Z]{1})$/.test(t))return setError(nifcon,"Introduzca NIF/NIE válido"),setTimeout(function(){setSuccess(nifcon)},3e3),!1;var n=t.slice(0,1),s=t.slice(8);let e=t;isNaN(n)&&(e=t.slice(1),"X"===n?e="0"+e:"Y"===n?e="1"+e:"Z"===n&&(e="2"+e));t=e.slice(0,8),n=parseInt(t)%23;if(!1==(s==="TRWAGMYFPDXBNJZSQVHLCKET".slice(n,1+n)))return setError(nifcon,"Introduzca NIF/NIE válido"),setTimeout(function(){setSuccess(nifcon)},3e3),!1}return""===e?(setError(nomcon,"Nombre requerido"),setTimeout(function(){setSuccess(nomcon)},3e3),!1):"0"===i?(setError(cbotip,"Seleccione un tipo"),setTimeout(function(){setSuccess(cbotip)},3e3),!1):"0"===c?(setError(cboref,"Seleccione una referencia"),setTimeout(function(){setSuccess(cboref)},3e3),!1):""===o?(setError(ejefor,"Ejercicio requerido"),setTimeout(function(){setSuccess(ejefor)},3e3),!1):!1===/^([0-9]{4})$/.test(ejefraValue)?(setError(ejefor,"Introduzca ejercicio válido"),setTimeout(function(){setSuccess(ejefor)},3e3),!1):!isNaN(Date.parse(r))||(setError(fecfor,"Fecha requerida"),setTimeout(function(){setSuccess(fecfor)},3e3),!1)};